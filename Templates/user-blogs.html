{% extends 'base.html' %}

{% block title %} User Blogs {% endblock %}

{% block content %}


    <h2 class="class=d-inline mb-4">
        Your Blogs :3
    </h2>
    
    <div class="container-fluid pe-4 mb-4">
        <table class="table table-dark table-hover align-middle">
            <thead>
                <tr>
                  <th scope="col">Title</th> 
                  <th scope="col">Link</th>
                </tr>
                
              </thead>
              <tbody></tbody>
                {% for posts in posts.items %}
                    <tr scope="row" class="align-middle">   
                        {% if posts.author_id == user.id %}
                            <div display="d-inline">
                                <td class="align-middle">{{ posts.title }} </td>
                                <td class="align-middle"> <a href="/blogs/view/{{ posts.id }}" class="btn btn-dark">View Details</a></td>
                            </div>
                        {% endif %}
                    </tr>
                {% endfor %} 
              </tbody>
        </table>

    <!-- this is used to iterate through the pages and display a link for each at the bottom -->
        <div class="btn-group">
            {% for page in posts.iter_pages(left_edge=2, right_edge=2, left_current=1, right_current=1) %}
                {% if page and posts.author_id == user.id %}
                        <a href="/users/{{ user.id }}/blogs/{{ page }}" class="btn btn-dark text-success"> {{ page }}</a>
                {% else %}
                        <span>â€¦</span>
                {% endif %}
            {% endfor %}
        </div>
    </div>    

{% endblock %}