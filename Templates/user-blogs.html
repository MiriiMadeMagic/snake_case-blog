{% extends 'base.html' %}

{% block title %} User Blogs {% endblock %}

{% block content %}


    <h2 class="class=d-inline mb-4">
        Your Blogs :3
    </h2>
    
    <div class="container-fluid pe-4 mb-4">
        <table class="table table-dark table-hover align-middle">
            <thead>
                <tr>
                  <th scope="col">Title</th> 
                </tr>
              </thead>
              <tbody>
               
                    {% for post in posts %}
                    <tr scope="row" class="align-middle">   
                        {% if posts.author_id == user.id %}
                            <td class="align-middle"> {{ posts.title }} </td>
                            <td class="align-middle"> <a href="/blogs/{{ post.id }}" class="btn btn-dark">View Details</a></td>
                        {% endif %}
                    </tr>
                    {% endfor %}
                
              </tbody>
        </table>
    <!-- this is used to iterate through the pages and display a link for each at the bottom -->
        {% for page in posts.iter_pages(left_edge=2, right_edge=2, left_current=1, right_current=1) %}
            {% if page and post.author_id === user.id %}
                    <a href="/users/{{ user.id }}/blogs/{{ page }}"> {{ page }}</a>
            {% else %}
                    <span>â€¦</span>
            {% endif %}
        {% endfor %}
    </div>    

{% endblock %}